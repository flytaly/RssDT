# import * from './generated/prisma.graphql'

type User {
    id: ID!
    email: String!
    feeds: [UserFeed!]!
    permissions: [Permission!]!
    createdAt: DateTime!
}

type UserFeed {
    feed: Feed!
    schedule: DigestSchedule
    user: User
}

type Feed {
    url: String!
    link: String
    title: String
    description: String
    image: String
    items(
        where: FeedItemWhereInput
        orderBy: FeedItemOrderByInput
        skip: Int
        after: String
        before: String
        first: Int
        last: Int
    ): [FeedItem!]
}

type Mutation {
    """
    Add feed to user with given email.
    If user doesn't exist the mutation will create a new user.
    """
    addFeed(
        email: String!
        feedUrl: String
        feedSchedule: DigestSchedule
    ): User!
}

type Query {
    user(where: UserWhereUniqueInput!): User
}
